# RAG çŸ¥è¯†ç³»ç»ŸåŸå‹ (Vue 3 + Parse Server)

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºæ£€ç´¢å¢å¼ºç”Ÿæˆ (RAG) æ¨¡å¼çš„æ™ºèƒ½çŸ¥è¯†é—®ç­”ç³»ç»ŸåŸå‹ã€‚å®ƒå…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡æ¡£ï¼ˆå¦‚ PDF, Word, Excel ç­‰ï¼‰ä½œä¸ºçŸ¥è¯†æºï¼Œå¹¶é€šè¿‡ä¸€ä¸ªæ”¯æŒå¤šè½®å¯¹è¯è®°å¿†çš„èŠå¤©ç•Œé¢è¿›è¡Œæé—®ã€‚

è¯¥é¡¹ç›®é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œå‰ç«¯ä½¿ç”¨ Vue 3 æ„å»ºï¼Œåç«¯åˆ™å·§å¦™åœ°åˆ©ç”¨ **Parse Server** ä½œä¸ºä¸€ä¸ªè½»é‡çº§ã€é«˜æ•ˆçš„â€œåº”ç”¨æœåŠ¡å™¨â€å’Œâ€œä¸šåŠ¡æµç¼–æ’å™¨â€ï¼Œè´Ÿè´£å¤„ç†æ‰€æœ‰é AI çš„é€šç”¨åç«¯ä»»åŠ¡ã€‚

## ğŸ›ï¸ é¡¹ç›®æ¶æ„

æœ¬ç³»ç»Ÿçš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯å°†**ä¸šåŠ¡é€»è¾‘**ä¸**AIæ ¸å¿ƒèƒ½åŠ›**è§£è€¦ã€‚Parse Server ä¸æ‰§è¡Œå…·ä½“çš„ AI è®¡ç®—ï¼Œè€Œæ˜¯ä½œä¸ºâ€œæŒ‡æŒ¥ä¸­å¿ƒâ€ï¼Œè°ƒç”¨å¤–éƒ¨ç‹¬ç«‹çš„ AI æœåŠ¡ API æ¥å®Œæˆä»»åŠ¡ã€‚

```mermaid
graph TD
    subgraph "ç”¨æˆ·ç«¯"
        A[Vue 3 å‰ç«¯]
    end

    subgraph "åç«¯ä¸šåŠ¡å±‚ (æœ¬é¡¹ç›®æ ¸å¿ƒ)"
        B(Parse Server)
        B -- "è¯»/å†™" --> C[MongoDB æ•°æ®åº“<br/>(å­˜å‚¨ç”¨æˆ·/æ–‡ä»¶å…ƒæ•°æ®/å¯¹è¯å†å²)]
    end

    subgraph "å¤–éƒ¨ AI æœåŠ¡ (å·²æœ‰çš„API)"
        D[1. æ–‡æ¡£è§£ææœåŠ¡ API]
        E[2. Embedding/å‘é‡æœç´¢ API]
        F[3. å¤§è¯­è¨€æ¨¡å‹ LLM API]
    end

    subgraph "çŸ¥è¯†å…¥åº“æµç¨‹"
        A -- "1. ä¸Šä¼ æ–‡ä»¶" --> B
        B -- "2. è§¦å‘Cloud Code" --> D
        D -- "3. è¿”å›æ–‡æœ¬" --> B
        B -- "4. è°ƒç”¨Embedding API" --> E
    end

    subgraph "é—®ç­”æµç¨‹ (å¸¦è®°å¿†)"
        A -- "5. å‘é€é—®é¢˜ + conversationId" --> B
        B -- "6. Cloud Code å‡½æ•° 'askQuestionWithMemory' å¯åŠ¨" --> C
        C -- "7. è¯»å–å¯¹è¯å†å²" --> B
        B -- "8. è°ƒç”¨å‘é‡æœç´¢ API" --> E
        E -- "9. è¿”å›ç›¸å…³çŸ¥è¯†" --> B
        B -- "10. æ•´åˆå†å²+çŸ¥è¯†+é—®é¢˜, è°ƒç”¨ LLM" --> F
        F -- "11. è¿”å›æœ€ç»ˆç­”æ¡ˆ" --> B
        B -- "12. ä¿å­˜ç”¨æˆ·é—®é¢˜å’ŒAIå›ç­”åˆ°å†å²" --> C
        B -- "13. å°†ç­”æ¡ˆè¿”å›ç»™å‰ç«¯" --> A
    end
```

## âœ¨ åŠŸèƒ½ç‰¹æ€§

*   **æ–‡ä»¶ä¸Šä¼ **ï¼šæ”¯æŒå›¾ç‰‡ã€PDFã€Wordã€Excel ç­‰å¤šç§æ ¼å¼çš„æ–‡ä»¶ä½œä¸ºçŸ¥è¯†æºã€‚
*   **ç”¨æˆ·ç®¡ç†**ï¼šå†…ç½®å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œå’Œç™»å½•ç³»ç»Ÿã€‚
*   **å¯¹è¯å¼é—®ç­”**ï¼šé€šè¿‡èŠå¤©ç•Œé¢ä¸çŸ¥è¯†åº“è¿›è¡Œäº¤äº’ã€‚
*   **å¯¹è¯è®°å¿†**ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼ŒAI èƒ½å¤Ÿç†è§£ä¸Šä¸‹æ–‡è¯­å¢ƒã€‚
*   **çŠ¶æ€ç®¡ç†**ï¼šåœ¨ Parse Dashboard ä¸­å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ–‡ä»¶ä¸Šä¼ çŠ¶æ€ã€å¤„ç†è¿›åº¦å’Œå¯¹è¯å†å²ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

*   **å‰ç«¯**: [Vue 3](https://vuejs.org/) (ä½¿ç”¨ Vite)
*   **åç«¯**: [Parse Server](https://parseplatform.org/) (è¿è¡Œäº Node.js)
*   **æ•°æ®åº“**: [MongoDB](https://www.mongodb.com/)
*   **æ ¸å¿ƒ AI èƒ½åŠ›**: é€šè¿‡ API è°ƒç”¨çš„å¤–éƒ¨æœåŠ¡ã€‚

## ğŸ—„ï¸ æ ¸å¿ƒæ•°æ®æ¨¡å‹ (Parse Server)

æˆ‘ä»¬åœ¨ Parse Server ä¸­å®šä¹‰äº†ä»¥ä¸‹æ ¸å¿ƒæ•°æ®è¡¨ (Class) æ¥æ”¯æŒå¯¹è¯è®°å¿†ç³»ç»Ÿã€‚

### `Conversation` Class
ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„å¯¹è¯ä¼šè¯ã€‚

| å­—æ®µå (Field Name) | æ•°æ®ç±»å‹ (Type)     | æè¿°                                     |
| ------------------- | ------------------- | ---------------------------------------- |
| `user`              | Pointer -> `_User`  | å°†å¯¹è¯å…³è”åˆ°å…·ä½“ç”¨æˆ·ã€‚                   |
| `title`             | String              | å¯¹è¯çš„æ ‡é¢˜ï¼Œæ–¹ä¾¿å‰ç«¯å±•ç¤ºã€‚               |

### `Message` Class
ä»£è¡¨ä¼šè¯ä¸­çš„æ¯ä¸€æ¡æ¶ˆæ¯ã€‚

| å­—æ®µå (Field Name) | æ•°æ®ç±»å‹ (Type)           | æè¿°                                     |
| ------------------- | ------------------------- | ---------------------------------------- |
| `conversation`      | Pointer -> `Conversation` | **æ ¸å¿ƒå…³è”**ï¼Œå°†æ¶ˆæ¯å½’å±äºæŸä¸ªä¼šè¯ã€‚     |
| `role`              | String                    | æ¶ˆæ¯è§’è‰²: `user` æˆ– `assistant`ã€‚        |
| `content`           | String                    | æ¶ˆæ¯çš„å…·ä½“æ–‡æœ¬å†…å®¹ã€‚                     |





